<!DOCTYPE html>
<html>
<head>
	<title>AMP, или как разогнать ваше приложение до сверхзвуковой скорости</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="styles/screen.css">	
</head>
<style type="text/css">
	.pad {
		padding-left: 50px;
	}
</style>

<body class="list">
	<header class="caption">
		<h1>AMP, или как разогнать ваше приложение до сверхзвуковой скорости</h1>
		<p>Dashukevich Vladimir</p>
	</header>
	<section class="slide cover" id="face"><div>
		<div style="color: #fff; font-size: 1.5em;">
			<div>{</div>
			<div class="pad">Тема: <mark>AMP, или как разогнать ваше приложение до сверхзвуковой скорости</mark>,</div>
			<div class="pad">Докладчик: <mark>Дашукевич Владимир</mark>,</div>
			<div class="pad">Компания: <mark>XBSoftware</mark>,</div>
			<div class="pad">Сообщество: <mark>4frontby</mark></div>
			<div>}</div>
		</div>
	</section>

	<section class="slide cover w"><div>
		<div>
			<img src="pictures/2.svg">
		</div>
	</section>

	<section class="slide shout"><div>
		<h2>Почему наше приложение медленное?</h2>
	</section>

	<section class="slide shout"><div>
		<h2>Только мобилки, только hardcore</h2>
	</section>

	<section class="slide shout"><div>
		<h2>Мы используем кэш)</h2>
	</section>

	<section class="slide cover w"><div>
		<div>
			<img src="pictures/1.png">
		</div>
	</section>

	<section class="slide cover w"><div>
		<div>
			<img src="pictures/2.png">
		</div>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/3.png">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/1.jpeg">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/1.gif">
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Что можно сделать ещё?</h2>
			<ol>
				<li class="next">304 и постоянного кэша</li>
				<li class="next">LocalStorage (font-display)</li>
				<li class="next">Service Worker</li>
				<li class="next">Server side rendering</li>
			</ol>
		</div>
	</section>

	<section class="slide shout"><div>
		<h2>Какую проблему мы решили?</h2>
	</section>

	<section class="slide shout"><div>
		<h2>Сколько раз вы читаете одну статью?</h2>
	</section>

	<section class="slide shout">
		<h2>1 раз</h2>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/4.png">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/2.gif">
		</div>
	</section>

	<section class="slide shout"><div>
		<h2>Попробуйте реалный интернет</h2>
	</section>	

	<section class="slide cover w">
		<div>
			<img src="pictures/5.png">
		</div>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/3.gif">
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Итого</h2>
			<ol>
				<li class="next">Убрали кэш</li>
				<li class="next">Поставили интернет (МТС 3g метро)</li>
				<li class="next">Страдаем</li>
			</ol>
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/2.jpg">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/3.jpg">
		</div>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/6.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/7.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/8.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/9.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/10.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/11.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/12.png">
		</div>
	</section>
	<section class="slide cover w">
		<div>
			<img src="pictures/13.png">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/15.png">
		</div>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/14.png">
		</div>
	</section>

	<section class="slide shout">
		<h2>Контент важнее!</h2>
	</section>	

	<section class="slide">
		<div>
			<h2>Мы просто решаем другие задачи!</h2>
			<ol>
				<li class="next">Responsive, adaptive ... </li>
				<li class="next">Роутинг</li>
				<li class="next">Пакеты скриптов</li>
				<li class="next">Реклама</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Решения</h2>
	</section>

	<section class="slide shout">
		<h2><a href='https://developer.apple.com/library/ios/documentation/General/Conceptual/Apple_News_Format_Ref/index.html'>Apple news</a></h2>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/16.png">
		</div>
	</section>

	<section class="slide shout">
		<h2><a href='http://spec.commonmark.org/'>Markdown</a></h2>
	</section>

	<section class="slide">
		<div>
			<h2>А как же:</h2>
			<ol>
				<li class="next">Картинки</li>
				<li class="next">Видео</li>
				<li class="next">Анимации</li>
				<li class="next">Стили</li>
				<li class="next">ПАРАЛАКС!</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2><a href='https://developer.apple.com/library/ios/documentation/General/Conceptual/Apple_News_Format_Ref/Component.html#//apple_ref/doc/uid/TP40015408-CH5-SW1'>Компонеты</a></h2>
	</section>

		<section class="slide">
		<div>
			<h2>Layout</h2>
			<pre>
				<code>{</code>
				<code>	"columnStart": 0,</code>
				<code>	"columnSpan": 3,</code>
				<code>	"margin": {</code>
				<code>		"top": 50,</code>
				<code>		"bottom": 50</code>
				<code>	}</code>
				<code>}</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Паралакс</h2>
			<pre>
				<code>{</code>
				<code>	"type": "parallax"</code>
				<code>	"factor": 0.8</code>
				<code>}</code>
			</pre>
		</div>
	</section>

	<section class="slide shout">
		<h2>Кто читает новости через Apple News?</h2>
	</section>

	<section class="slide shout">
		<h2><a href="https://developers.facebook.com/docs/instant-articles">Facebook Instant Articles</a></h2>
	</section>

	<section class="slide shout">
		<h2>F8</h2>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/4.gif">
		</div>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/5.gif">
		</div>
	</section>

	<section class="slide shout">
		<h2><a href="https://developers.facebook.com/docs/instant-articles/reference/map">HTML</a></h2>
	</section>

	<section class="slide cover w">
		<div>
			<img src="pictures/18.png">
		</div>
	</section>

	<section class="slide cover h">
		<div>
			<img src="pictures/17.png">
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Что-то другое:</h2>
			<pre>
				<code>&lt;figure class="op-interactive"&gt;</code>
				<code>	&lt;iframe class="column-width"</code> 
				<code>				src="http://example.com/custom-interactive"</code> 
				<code>				height="60"&gt;</code>
				<code>	&lt;/iframe&gt;</code>
				<code>&lt;/figure&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Как это работает</h2>
			<ol>
				<li class="next">Мы генерируем контент</li>
				<li class="next">Они оптимально его показывают</li>
			</ol>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Недостатки</h2>
			<ol>
				<li class="next">Привязка к фирме</li>
				<li class="next">Только одно приложение</li>
				<li class="next">Поддержка нескольких версий</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Но как же Web?</h2>
	</section>

	<section class="slide shout">
		<h2><a href="https://www.ampproject.org/docs/get_started/about-amp.html">Accelerated Mobile Pages (AMP)</a></h2>
	</section>

	<section class="slide shout">
		<h2>Отложим все что не нужно на потом</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Правила AMP</h2>
			<ol>
				<li class="next">Всем рассказывай про AMP</li>
				<li class="next">Это Web страница</li>
				<li class="next">Удали JavaScript</li>
				<li class="next">Удали все картинки и видео</li>
				<li class="next">Удали большую часть CSS (50Kb)</li>
				<li class="next">Делай что хочешь?!</li>
			</ol>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html amp&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>
	
	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html <mark class="important">amp</mark>&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>
	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html <mark class="important">⚡</mark>&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html ⚡&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" <mark class="important">href="hello-world.html"</mark>&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html ⚡&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" </code>
				<code>	<mark class="important">content="width=device-width,
minimum-scale=1,initial-scale=1"</mark>&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html ⚡&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style <mark class="important">amp-boilerplate</mark>&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html ⚡&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script <mark class="important">async src="https://cdn.ampproject.org/v0.js"</mark>&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body>Hello World!&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Hello world:</h2>
			<pre>
				<code>&lt;html ⚡&gt;</code>
				<code>	&lt;head&gt;</code>
				<code>   		&lt;link rel="canonical" href="hello-world.html"&gt;</code>
				<code>   		&lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;</code>
				<code>   		&lt;style amp-boilerplate&gt; /* стили страницы */ &lt;/style&gt;</code> 
				<code>   		&lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;</code>
				<code> 	&lt;/head&gt;</code>
				<code> 	&lt;body><mark class="important">Hello World!</mark>&lt;/body&gt;</code>
				<code>&lt;/html&gt;</code>
			</pre>
		</div>
	</section>

	<section class="slide shout">
		<h2>Нужно добавить контента</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Запрещены теги:</h2>
			<ol>
				<li class="next">script</li>
				<li class="next">base</li>
				<li class="next">iframe и frameset</li>
				<li class="next">img, video, audio</li>
				<li class="next">form и input</li>
				<li class="next">object, param, applet и embed</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Нужно добавить стилей</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Запрещены:</h2>
			<ol>
				<li class="next">Универсальный селектор * и :not()</li>
				<li class="next">overflow: scroll, overflow: auto (нельзя делать скроллящиеся блоки)</li>
				<li class="next">filter</li>
				<li class="next">!important</li>
				<li class="next">Больше 50Kb</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>&lt;style amp-custom&gt;</h2>
	</section>

	<section class="slide shout">
		<h2>Нужно добавить картинки и видео</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-img&gt;</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-video&gt;</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Возможности:</h2>
			<ol>
				<li class="next">Определение ширины и высоты</li>
				<li class="next">responsive</li>
				<li class="next">amp-carousel</li>
				<li class="next">amp-image-lightbox</li>
			</ol>
		</div>
	</section>

	<section class="slide">
		<div>
			<h2>Разметка:</h2>
			<ol>
				<li class="">nodisplay</li>
				<li class="">fixed</li>
				<li class="">responsive</li>
				<li class="">fixed-height</li>
				<li class="">fill</li>
				<li class="">container</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Нужно добавить аналитику и рекламу</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-ad&gt;</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-analytics&gt;</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-pixel&gt;</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Дополнительные компоненты:</h2>
			<ol>
				<li class="">amp-anim</li>
				<li class="">amp-audio</li>
				<li class="">amp-twitter</li>
				<li class="">amp-youtube</li>
				<li class="">amp-instagram</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Нужно добавить крутости</h2>
	</section>

	<section class="slide shout">
		<h2>&lt;amp-iframe&gt;</h2>
	</section>

	<section class="slide shout">
		<h2>А как управлять контентом?</h2>
	</section>

	<section class="slide">
		<div>
			<h2>sandbox:</h2>
			<ol>
				<li class="">allow-scripts</li>
				<li class="">allow-same-origin</li>
				<li class="">allow-popups</li>
				<li class="">allow-popups-to-escape-sandbox</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>Как валидировать?</h2>
	</section>

	<section class="slide cover w"><div>
		<div>
			<img src="pictures/20.png">
		</div>
	</section>

	<section class="slide shout">
		<h2><a target="_blank" href="https://github.com/ampproject/amphtml/blob/master/builtins/amp-img.md">&lt;amp-img&gt;</a></h2>
	</section>

	<section class="slide shout">
		<h2>Как это выглядит?</h2>
	</section>

	<section class="slide cover h"><div>
		<div>
			<img src="pictures/19.png">
		</div>
	</section>

	<section class="slide shout">
		<h2>Как это распространять?</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Серверы</h2>
			<ol>
				<li class="">Свой собственный</li>
				<li class="">AMP Cache</li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<h2>А работает ли это?</h2>
	</section>

	<section class="slide cover h"><div>
		<div>
			<img src="pictures/21.png">
		</div>
	</section>

	<section class="slide cover w"><div>
		<div>
			<img src="pictures/18.jpg">
		</div>
	</section>

	<section class="slide shout"><div>
		<h2>Каждый инструмент решает свою задачу</h2>
	</section>

	<section class="slide">
		<div>
			<h2>Ссылки:</h2>
			<ol>
				<li class=""><a href="https://habrahabr.ru/company/rambler-co/blog/280602/">Lenta.ru</a></li>
				<li class=""><a href="https://geektimes.ru/post/263624/">Введение</a></li>
				<li class=""><a href="https://www.ampproject.org/">AMP</a></li>
				<li class=""><a href="https://www.smashingmagazine.com/2016/02/everything-about-google-accelerated-mobile-pages/">smashingmagazine</a></li>
			</ol>
		</div>
	</section>

	<section class="slide shout">
		<div>
			<h2>Вопросы?</h2>
			<div>Facebook: <a href="https://www.facebook.com/dashukevich.vova">dashukevich.vova</a></div>
			<div>Twitter: <a href="https://twitter.com/life__777">life__777</a></div>
		</div>
	</section>
</body>
<script src="js/shower.min.js"></script>
<script type="text/javascript">

</script>
</html>
